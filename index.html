<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>gildiya-task2</title>
</head>
<body>
	



<script>
	


let startTime
let time

function start(func1, func2, timeInput = { timeSet: 2, maxTime: 20 }) {
	time = timeInput;
	startTime = new Date().getTime();

	func1();
}

let numberInput = function func1() {
	let timeInterval = new Date().getTime();
	if (((timeInterval - startTime) / 1000) <= time.maxTime) {
		let numberSet = prompt('введите четное или нечетное число', 1) % 2;

			if (numberSet || isNaN(numberSet)) {
				console.log(`Введено нечетное число или символ отличный от числа, повторяем заново через ${time.timeSet}сек`);
				setTimeout(function() {
						func1();
				}, time.timeSet * 1000);
			} else {
				console.log('Введено четное число');
				callback()
			};
			
	} else {
		console.log('Время вышло');
		callback();
	} 
};

let callback = function func2() {
	let endTime = new Date().getTime();
		let objTime = {
			'Переодичность выполнения': time.timeSet + 'сек',
			'Максимальное время': `${((endTime - startTime)/1000).toFixed(1)}сек`
		};
		console.log(objTime);
};

start(numberInput, callback, time);





</script>
</body>
</html>